<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Halaman Saya</title>
  <style>
    * {
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: "Georgia", serif;
      background-color: #e0e0dc;
      color: #222;
    }

    body {
      display: flex;
      flex-direction: column;
    }

    .container {
      flex: 1;
      width: 100%;
      max-width: 1200px;
      margin: 2em auto;
      display: flex;
      flex-direction: column;
      padding: 2em;
      background-color: #fff;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    header {
      border-bottom: 2px solid #ccc;
      margin-bottom: 1em;
    }

    .header-flex {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    .header-flex h1 {
      font-size: 2em;
      margin: 0.5em 0;
    }

    .search-container {
      max-width: 300px;
      width: 100%;
    }

    .gsc-input-box,
    input.gsc-input {
      background-color: #f9f9f9 !important;
      font-family: "Courier New", monospace !important;
      font-size: 14px !important;
      box-shadow: none !important;
    }

    .gsc-search-button {
      background-color: gray !important;
      border: none !important;
    }

    nav.topnav {
      background-color: #f3f3f3;
      padding: 0.5em;
      border: 1px solid #ccc;
      margin-bottom: 0.5em;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
    }

    .nav-links {
      display: flex;
      gap: 1.5em;
    }

    nav.topnav a {
      text-decoration: none;
      color: #003366;
      font-weight: bold;
    }

    nav.topnav a:hover {
      text-decoration: underline;
    }

    .lang-select {
      font-family: inherit;
      font-size: 0.95em;
      padding: 0.2em 0.5em;
    }

    .content-wrapper {
      display: flex;
      flex: 1;
      position: relative;
      overflow: hidden;
    }

    aside {
      width: 220px;
      padding-right: 1em;
      border-right: 1px solid #ccc;
      transition: transform 0.3s ease, opacity 0.3s ease;
      transform: translateX(0);
      opacity: 1;
      flex-shrink: 0;
    }

    aside.collapsed {
      transform: translateX(-100%);
      opacity: 0;
    }

    aside h3 {
      font-size: 1.1em;
      margin-top: 0;
    }

    aside ul {
      list-style: none;
      padding-left: 0;
    }

    aside ul li {
      margin-bottom: 0.5em;
    }

    aside ul li a {
      text-decoration: none;
      color: #444;
    }

    aside ul li a:hover {
      text-decoration: underline;
    }

    main {
      flex: 1;
      padding-left: 2em;
      transition: padding-left 0.3s ease;
    }

    section {
      display: none;
    }

    section.active {
      display: block;
    }

    footer {
      border-top: 1px solid #ccc;
      padding-top: 1em;
      font-size: 0.9em;
      color: #555;
      text-align: center;
      margin-top: 2em;
    }

    @media (max-width: 768px) {
      .content-wrapper {
        flex-direction: column;
      }

      aside {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid #ccc;
        transform: translateX(0) !important;
        opacity: 1 !important;
      }

      aside.collapsed {
        display: none;
      }

      main {
        padding-left: 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="header-flex">
        <h1 data-i18n="title">Blog post</h1>
        <div class="search-container">
          <div class="gcse-search"></div>
        </div>
      </div>
      <nav class="topnav">
        <div class="nav-links">
          <a href="/tentang" data-link data-i18n="nav_about">Tentang</a>
          <a href="/proyek" data-link data-i18n="nav_projects">Proyek</a>
          <a href="/kontak" data-link data-i18n="nav_contact">Kontak</a>
        </div>
        <select id="language-switcher" class="lang-select">
          <option value="id">ðŸ‡®ðŸ‡© Indonesia</option>
          <option value="en">ðŸ‡¬ðŸ‡§ English</option>
        </select>
      </nav>
    </header>

    <div class="content-wrapper">
      <aside id="sidebar">
        <h3 data-i18n="latest_notes">Catatan Terbaru</h3>
        <ul>
          <li><a href="#" data-i18n="note1">Zathura: Tema Gelap yang Nyaman</a></li>
          <li><a href="#" data-i18n="note2">Membuat Peacefox: userChrome.css Retro</a></li>
          <li><a href="#" data-i18n="note3">Mengintegrasi DWM dengan NsCDE</a></li>
          <li><a href="#" data-i18n="note4">Menjaga Tampilan Sederhana di Web</a></li>
        </ul>
      </aside>

      <main>
        <section id="tentang" class="active">
          <h2 data-i18n="about_heading">Tentang Saya</h2>
          <p data-i18n="about_text1">Saya adalah pengguna Linux yang suka hal klasik, terminal, dan desain minimal.</p>
          <p data-i18n="about_text2">Situs ini adalah tempat saya menulis, mendokumentasikan proyek pribadi, dan berbagi hal-hal yang menurut saya menarik.</p>
        </section>

        <section id="proyek">
  <h2 data-i18n="projects_heading">Proyek</h2>
  <p id="project-loading" data-i18n="loading_projects">Memuat daftar proyek dari GitHub...</p>
  <ul id="github-projects"></ul>
</section>


        <section id="kontak">
          <h2 data-i18n="contact_heading">Kontak</h2>
          <p>Email: <a href="mailto:you@example.com">you@example.com</a></p>
          <p>GitHub: <a href="https://github.com/username">username</a></p>
          <p>Blog: <a href="https://your-blog.example">your-blog.example</a></p>
        </section>
      </main>
    </div>

    <footer>
      <p data-i18n="footer_text">&copy; 2025 Halaman Saya. Dibuat dengan â™¥ dan HTML polos.</p>
    </footer>
  </div>

  <script async src="https://cse.google.com/cse.js?cx=727215aa94c34467a"></script>
  <script>
    const routes = {
      "/tentang": "tentang",
      "/proyek": "proyek",
      "/kontak": "kontak"
    };

    async function loadGitHubRepos() {
  const username = "fauzymadani"; // ganti dengan username GitHub kamu
  const ul = document.getElementById("github-projects");
  ul.innerHTML = "<li>Loading...</li>";

  try {
    const res = await fetch(`https://api.github.com/users/${username}/repos`);
    if (!res.ok) throw new Error("Gagal memuat repo.");
    const repos = await res.json();

    // Sort repos by updated date, descending
    repos.sort((a, b) => new Date(b.updated_at) - new Date(a.updated_at));

    // Kosongkan daftar dan masukkan hasil
    ul.innerHTML = "";
    repos.forEach(repo => {
      const li = document.createElement("li");
      li.innerHTML = `<a href="${repo.html_url}" target="_blank"><strong>${repo.name}</strong></a>: ${repo.description || "(tidak ada deskripsi)"}`;
      ul.appendChild(li);
    });
  } catch (err) {
    ul.innerHTML = `<li>${err.message}</li>`;
  }
}

    const translations = {
      id: {
        title: "Halaman Saya",
        nav_about: "Tentang",
        nav_projects: "Proyek",
        nav_contact: "Kontak",
        latest_notes: "Catatan Terbaru",
        note1: "Zathura: Tema Gelap yang Nyaman",
        note2: "Membuat Peacefox: userChrome.css Retro",
        note3: "Mengintegrasi DWM dengan NsCDE",
        note4: "Menjaga Tampilan Sederhana di Web",
        about_heading: "Tentang Saya",
        about_text1: "Saya adalah pengguna Linux yang suka hal klasik, terminal, dan desain minimal.",
        about_text2: "Situs ini adalah tempat saya menulis, mendokumentasikan proyek pribadi, dan berbagi hal-hal yang menurut saya menarik.",
        projects_heading: "Proyek",
        project1: "userChrome.css bertema retro ala CDE",
        project2: "konfigurasi Zathura agar pakai tema gelap elegan",
        project3: "integrasi dwm dengan tema NsCDE tanpa mengorbankan gaya",
        contact_heading: "Kontak",
        footer_text: "&copy; 2025 Halaman Saya. Dibuat dengan â™¥ dan HTML polos."
      },
      en: {
        title: "My Page",
        nav_about: "About",
        nav_projects: "Projects",
        nav_contact: "Contact",
        latest_notes: "Latest Notes",
        note1: "Zathura: A Comfortable Dark Theme",
        note2: "Making Peacefox: Retro userChrome.css",
        note3: "Integrating DWM with NsCDE",
        note4: "Keeping Web Design Simple",
        about_heading: "About Me",
        about_text1: "I'm a Linux user who loves classic things, terminals, and minimal design.",
        about_text2: "This site is where I write, document personal projects, and share things I find interesting.",
        projects_heading: "Projects",
        project1: "A retro-themed userChrome.css inspired by CDE",
        project2: "Zathura configuration with elegant dark theme",
        project3: "DWM + NsCDE integration without sacrificing style",
        contact_heading: "Contact",
        footer_text: "&copy; 2025 My Page. Made with â™¥ and plain HTML."
      }
    };

    function navigate(path) {
  const target = routes[path] || "tentang";
  document.querySelectorAll("main section").forEach(sec => {
    sec.classList.remove("active");
  });
  document.getElementById(target).classList.add("active");

  // Muat proyek saat user ke /proyek
  if (target === "proyek" && !document.getElementById("proyek").dataset.loaded) {
    loadGitHubRepos();
    document.getElementById("proyek").dataset.loaded = "true";
  }

  history.pushState({ path }, "", path);
}


    document.querySelectorAll("a[data-link]").forEach(link => {
      link.addEventListener("click", e => {
        e.preventDefault();
        const path = link.getAttribute("href");
        navigate(path);
      });
    });

    window.addEventListener("popstate", e => {
      const path = e.state?.path || "/tentang";
      navigate(path);
    });

    function updateLanguage(lang) {
      const elements = document.querySelectorAll("[data-i18n]");
      elements.forEach(el => {
        const key = el.dataset.i18n;
        if (translations[lang] && translations[lang][key]) {
          el.innerHTML = translations[lang][key];
        }
      });
      document.documentElement.lang = lang;
    }

    document.getElementById("language-switcher").addEventListener("change", e => {
      const lang = e.target.value;
      updateLanguage(lang);
    });

    // First load
    navigate(location.pathname);
    updateLanguage("id");
  </script>
</body>
</html>

